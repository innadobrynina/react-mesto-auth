{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/SubmitButton.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Form.js","components/AuthInput.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","components/App.js","index.js"],"names":["Header","email","onClick","loggedIn","React","useState","isOpen","setIsOpen","isClicked","setIsClicked","linkClassName","className","to","src","headerLogo","alt","path","CurrentUserContext","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","like","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onCardClick","type","aria-label","onCardDelete","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","avatar","about","cards","map","key","Footer","Popup","onClose","classname","children","submitButtonClass","isDisabled","button","useEffect","handleEsc","event","document","addEventListener","removeEventListener","ImagePopup","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkStatus","data","method","body","JSON","stringify","cardId","authorization","BASE_URL","checkStatus","SubmitButton","disabled","PopupWithForm","title","onSubmit","formClassName","submitButtonClassName","submitButtonText","id","action","autoComplete","noValidate","EditProfilePopup","onUpdateUser","isValid","setIsValid","validationMessage","setValidationMessage","inputValue","setInputValue","isFormValid","Object","values","every","Boolean","handleInputChange","target","value","validity","valid","preventDefault","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","setFormValid","current","evt","ref","AddPlacePopup","ConfirmPopup","onDelete","Form","text","AuthInput","Login","onLoggin","password","e","Register","onRegister","ProtectedRoute","InfoTooltip","isSuccess","message","successIcon","failIcon","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeletePopupOpen","setDeletePopupOpen","isMessagePopupOpen","setMessagePopupOpen","selectedCard","setSelectedCard","isLoading","setIsLoading","setCurrentUser","setCards","setLoggedIn","setEmail","isSuccessful","setIsSuccessful","setMessage","history","useHistory","closeAllPopups","tokenCheck","token","localStorage","getItem","Authorization","auth","push","catch","err","console","log","all","getUserData","getInitialCards","info","Provider","removeItem","exact","changeLikeStatus","newCard","newCards","c","Accept","setItem","setUserData","result","finally","postNewCard","results","setUserAvatarData","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6169913a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\r\nimport headerLogo from \"../images/logo.svg\";\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction Header({ email, onClick, loggedIn }) {\r\n\r\n    const [isOpen, setIsOpen] = React.useState(true);\r\n    const [isClicked, setIsClicked] = React.useState(false);\r\n\r\n    const linkClassName = \"header__link\";\r\n\r\n    const handleClick = () => {\r\n        setIsOpen(!isOpen);\r\n        setIsClicked(!isClicked);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {loggedIn && <div className={`header__menu ${isOpen ? `` : `header__menu_visible`}`}>\r\n                <p className=\"header__email_menu\">{email}</p>\r\n                <Link to=\"/\" onClick={onClick} className=\"header__link_menu\">Выйти</Link>\r\n            </div>}\r\n\r\n            <div className=\"header\">\r\n                <img src={headerLogo} className=\"header__logo\" alt=\"Логотип\" />\r\n                <div className=\"header__container\">\r\n\r\n                    <Switch>\r\n                        <Route path=\"/sign-in\">\r\n                            <Link to=\"/sign-up\" className={linkClassName}>Регистрация</Link>\r\n                        </Route>\r\n                        <Route path=\"/sign-up\">\r\n                            <Link to=\"/sign-in\" className={linkClassName}>Войти</Link>\r\n                        </Route>\r\n                        <Route path=\"/\">\r\n                            <button className={`header__button \r\n                ${isClicked ? 'header__button-close' : 'header__button-open'}`}\r\n                                onClick={handleClick}\r\n                            >\r\n                            </button>\r\n                            <p className=\"header__email\">{email}</p>\r\n                            <Link to=\"/\" onClick={onClick} className=\"header__link\">Выйти</Link>\r\n                        </Route>\r\n                    </Switch>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n\r\n    const { card } = props;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    const cardDeleteButtonClassName = (\r\n        `card__remove ${isOwn ? 'card__remove_visible' : 'card__remove_hidden'}`\r\n    );\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLiked ? 'card__like_active' : 'card__like'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <img\r\n                className=\"card__image\"\r\n                src={card.link} alt={card.name}\r\n                onClick={handleClick}\r\n            />\r\n            <button\r\n                type=\"button\"\r\n                aria-label=\"корзина\"\r\n                className={cardDeleteButtonClassName}\r\n                onClick={handleDeleteClick}>\r\n            </button>\r\n\r\n            <div className=\"card__info\">\r\n                <h2 className=\"card__title\">{card.name}</h2>\r\n                <div className=\"card__like-wrap\">\r\n                    <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\" aria-label=\"Мне нравится\" />\r\n                    <span className='card__likes-counter'>{card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n    const { onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete } = props;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\">\r\n                    <img\r\n                        className=\"profile__image\"\r\n                        src={currentUser.avatar}\r\n                        alt=\"аватар\"\r\n\r\n                    />\r\n                    <div className=\"profile__avatar-overlay\">\r\n                        <button\r\n                            onClick={onEditAvatar}\r\n                            type=\"button\"\r\n                            className=\"profile__avatar-edit\"\r\n                            aria-label=\"обновить фотографию пользователя\">\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <button\r\n                        onClick={onEditProfile}\r\n                        className=\"profile__button-edit\"\r\n                        type=\"button\"\r\n                        aria-label=\"Редактировать профиль\">\r\n                    </button>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button\r\n                    onClick={onAddPlace}\r\n                    className=\"profile__button-add\"\r\n                    aria-label=\"Добавить карточку\"\r\n                    type=\"button\">\r\n                </button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {props.cards.map(card => (\r\n                        <Card {...card}\r\n                            onCardClick={onCardClick}\r\n                            onCardLike={onCardLike}\r\n                            onCardDelete={onCardDelete}\r\n                            key={card._id}\r\n                            card={card}\r\n                        />)\r\n                    )}\r\n                </ul>\r\n            </section>\r\n        </main >\r\n\r\n    );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__author\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","\r\nimport React, { useEffect } from 'react';\r\n\r\nfunction Popup({ onClose, isOpen, name, classname, children, submitButtonClass, isDisabled, onClick, button }) {\r\n\r\n\r\n    useEffect(() => {\r\n        function handleEsc(event) {\r\n            if (event.key !== 'Escape') {\r\n                return\r\n            }\r\n            onClose();\r\n        }\r\n\r\n        if (isOpen) {\r\n            document.addEventListener('keydown', handleEsc);\r\n        }\r\n\r\n        return () => document.removeEventListener('keydown', handleEsc);\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <section className={`popup popup_type_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n            <div className={classname}>\r\n                <button\r\n                    type=\"button\"\r\n                    aria-label=\"закрыть модальное окно\"\r\n                    className=\"popup__close\"\r\n                    onClick={onClose}>\r\n                </button>\r\n                {children}\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Popup;","import React from \"react\";\r\nimport Popup from './Popup';\r\n\r\nfunction ImagePopup({ onClose, isOpen, card }) {\r\n    return (\r\n        <Popup\r\n            name=\"image\"\r\n            classname=\"popup-image__container\"\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n        >\r\n            <img\r\n                className=\"popup-image__content\"\r\n                src={card ? card.link : \"\"}\r\n                alt={card ? card.name : \"\"}\r\n            />\r\n\r\n            <figcaption\r\n                className=\"popup-image__caption\">\r\n                {card ? card.name : ''}\r\n            </figcaption>\r\n        </Popup >\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","export class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _checkStatus(res) {\r\n        if (res.ok) {\r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then((this._checkStatus));\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers,\r\n\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    postNewCard(data) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers,\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    setUserData(data) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    setUserAvatarData(data) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                avatar: data.link\r\n            })\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            headers: this._headers,\r\n            method: 'DELETE'\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    changeLikeStatus(cardId, like) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: like ? 'PUT' : 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n}\r\n\r\n\r\nexport const api = new Api({\r\n    baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-22\",\r\n    headers: {\r\n        authorization: \"bb37a53f-65dd-4153-b255-188fa4e0f13b\",\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const checkStatus = (res) => {\r\n    if (res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n};\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n    })\r\n        .then((res) => checkStatus(res));\r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n    })\r\n        .then((res) => checkStatus(res));\r\n}\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    })\r\n        .then((res) => checkStatus(res));\r\n}","import React from 'react';\r\n\r\nfunction SubmitButton({ classname, isDisabled, onClick, button }) {\r\n\r\n    return (\r\n        <button\r\n            type=\"submit\"\r\n            className={`${classname}__button-submit ${isDisabled ? 'popup__button-submit_disabled' : ''}`}\r\n            disabled={isDisabled}\r\n        >\r\n            {onClick ? \"Сохранение...\" : button}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default SubmitButton;","import React from \"react\";\r\nimport Popup from \"./Popup\";\r\nimport SubmitButton from \"./SubmitButton\";\r\n\r\nfunction PopupWithForm({ isOpen, onClose, name, title, children, onSubmit, isDisabled, onClick, formClassName, submitButtonClassName, submitButtonText }) {\r\n    return (\r\n        <Popup\r\n            classname=\"popup__container\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            submitButtonClass=\"popup\"\r\n        >\r\n            <form\r\n                onSubmit={onSubmit}\r\n                className={formClassName}\r\n                name={name} id={name}\r\n                method=\"POST\"\r\n                action=\"#\"\r\n                autoComplete=\"off\"\r\n                noValidate\r\n            >\r\n                <h3 className=\"popup__title\">{title}</h3>\r\n                {children}\r\n\r\n                <SubmitButton\r\n                    classname={submitButtonClassName}\r\n                    isDisabled={isDisabled}\r\n                    onClick={onClick}\r\n                    button={submitButtonText}\r\n                >\r\n                </SubmitButton>\r\n\r\n            </form>\r\n\r\n        </Popup>\r\n\r\n    );\r\n}\r\nexport default PopupWithForm;","import React, { useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose, onClick }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    // const [isValid, setIsValid] = React.useState(false);\r\n    const [isValid, setIsValid] = React.useState({ name: true, about: true });\r\n    // const [validationMessage, setValidationMessage] = React.useState('');\r\n    const [validationMessage, setValidationMessage] = React.useState({ name: '', about: '', });\r\n    const [inputValue, setInputValue] = React.useState({ name: '', about: '' });\r\n    const isFormValid = Object.values(isValid).every(Boolean);\r\n\r\n    function handleInputChange(event) {\r\n        const { name, value } = event.target;\r\n        setInputValue({\r\n            ...inputValue,\r\n            [name]: value,\r\n        });\r\n        setIsValid({\r\n            ...isValid,\r\n            [name]: event.target.validity.valid,\r\n        })\r\n        setValidationMessage({\r\n            ...validationMessage,\r\n            [name]: event.target.validationMessage,\r\n        })\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        onUpdateUser({\r\n            name: inputValue.name,\r\n            about: inputValue.about\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setInputValue({\r\n            name: currentUser.name || '',\r\n            about: currentUser.about || ''\r\n        });\r\n        setValidationMessage({ name: '', about: '', });\r\n    }, [currentUser.about, currentUser.name, isOpen])\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='edit'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            title=\"Редактировать профиль\"\r\n            onSubmit={handleSubmit}\r\n            formClassName=\"popup__form\"\r\n            isDisabled={!isFormValid}\r\n            onClick={onClick}\r\n            submitButtonClassName=\"popup\"\r\n\r\n            submitButtonText=\"Сохранить\"\r\n        >\r\n            <label className=\"popup__field\">\r\n                <input\r\n                    className=\"popup__input\"\r\n                    type=\"text\"\r\n                    id=\"title-name\"\r\n                    name=\"name\"\r\n                    placeholder=\"Имя\"\r\n                    aria-label=\"Имя\"\r\n                    required\r\n                    minLength={2}\r\n                    maxLength={40}\r\n                    value={inputValue.name}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <span className={!isValid.name ? 'popup__input-error popup__input-error_name' : \"\"} id=\"title-name-error\">{validationMessage.name}</span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input\r\n                    className=\"popup__input\"\r\n                    type=\"text\"\r\n                    id=\"about-name\"\r\n                    name=\"about\"\r\n                    placeholder=\"Род деятельности\"\r\n                    aria-label=\"О себе\"\r\n                    required\r\n                    minLength={2}\r\n                    maxLength={200}\r\n                    value={inputValue.about}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <span className={!isValid.about ? \"popup__input-error popup__input-error_about\" : \"\"} id=\"about-name-error\"> {validationMessage.about}</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onClick }) {\r\n    const avatarRef = React.useRef('');\r\n    const [isValid, setIsValid] = React.useState(false);\r\n    const [validationMessage, setValidationMessage] = React.useState('');\r\n    const [isFormValid, setFormValid] = React.useState(false);\r\n\r\n    function handleChange(evt) {\r\n        if (!evt.target.validity.valid) {\r\n            setIsValid(true)\r\n            setValidationMessage(evt.target.validationMessage)\r\n            setFormValid();\r\n        } else {\r\n            setIsValid(false)\r\n            setValidationMessage('')\r\n            setFormValid(true);\r\n        }\r\n    };\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        onUpdateAvatar({\r\n            link: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = '';\r\n        setValidationMessage('');\r\n        setFormValid();\r\n    }, [isOpen])\r\n\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n            formClassName=\"popup__form\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            name='update-avatar'\r\n            submitButtonText='Обновить'\r\n            onSubmit={handleSubmit}\r\n            submitButtonClassName=\"popup\"\r\n            isDisabled={!isFormValid}\r\n            onClick={onClick}\r\n            title=\"Обновить аватар\"\r\n        >\r\n            <label className=\"popup__field\">\r\n                <input\r\n                    id=\"avatar-link\"\r\n                    type=\"url\"\r\n                    name=\"avatar\"\r\n                    className=\"popup__input\"\r\n                    placeholder=\"Ссылка на аватар\"\r\n                    required\r\n                    aria-label=\"Ссылка на аватар\"\r\n                    ref={avatarRef}\r\n                    onChange={handleChange}\r\n                />\r\n                <span className={isValid ? \" popup__input-error_avatar\" : \"\"} id=\"avatar-link-error\">{validationMessage}</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ onClick, onAddPlace, isOpen, onClose }) {\r\n\r\n  const [inputValue, setInputValue] = React.useState({ name: '', link: '', });\r\n  const [isValid, setIsValid] = React.useState({ name: false, link: false });\r\n  const [validationMessage, setValidationMessage] = React.useState({ name: '', link: '' });\r\n  const isFormValid = Object.values(isValid).every(Boolean);\r\n\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n    setInputValue({\r\n      ...inputValue,\r\n      [name]: value,\r\n    });\r\n    setIsValid({\r\n      ...isValid,\r\n      [name]: event.target.validity.valid,\r\n    })\r\n    setValidationMessage({\r\n      ...validationMessage,\r\n      [name]: event.target.validationMessage,\r\n    })\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onAddPlace({\r\n      name: inputValue.name,\r\n      link: inputValue.link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setInputValue({ name: '', link: '' });\r\n    setValidationMessage({ name: '', link: '' });\r\n    setIsValid({ name: false, link: false });\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Новое место\"\r\n      onSubmit={handleSubmit}\r\n      formClassName=\"popup__form\"\r\n      submitButtonClassName=\"popup\"\r\n      isDisabled={!isFormValid}\r\n      submitButtonText=\"Создать\"\r\n      onClick={onClick}\r\n    >\r\n\r\n      <label className=\"popup__field\">\r\n        <input\r\n          className=\"popup__input popup__input_place\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          id=\"place-name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength={2}\r\n          maxLength={30}\r\n          value={inputValue.name}\r\n          onChange={handleInputChange}\r\n\r\n        />\r\n        <span className={!isValid.name ? \"popup__input-error popup__input-error_place\" : \"\"} id=\"place-name-error\">{validationMessage.name}</span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          className=\"popup__input popup__input_image\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          id=\"link-image\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          value={inputValue.link}\r\n          onChange={handleInputChange}\r\n\r\n        />\r\n        <span className={!isValid.link ? \"popup__input-error popup__input-error_image\" : \"\"} id=\"link-image-error\">{validationMessage.link}</span>\r\n      </label>\r\n\r\n\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ onClick, card, onDelete, isOpen, onClose }) {\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        onDelete(card)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Вы уверены?\"\r\n            name=\"delete\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            formClassName=\"popup__form\"\r\n            submitButtonText=\"Да\"\r\n            submitButtonClassName=\"popup\"\r\n            onClick={onClick}\r\n        >\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default ConfirmPopup;","import React from 'react';\r\n\r\nfunction Form({ title, children, text, onSubmit, link }) {\r\n    return (\r\n        <div className=\"auth\">\r\n            <h3 className=\"auth__header\">{title}</h3>\r\n            <form\r\n                className=\"auth__form\"\r\n                action=\"#\"\r\n                onSubmit={onSubmit}\r\n            >\r\n                {children}\r\n            </form>\r\n            <div className=\"auth__info\">\r\n                <h4 className=\"auth__text\">{text}</h4>\r\n                {link}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nfunction AuthInput({ type, placeholder, name, value, onChange }) {\r\n\r\n    return (\r\n        <input\r\n            className=\"auth__item\"\r\n            type={type}\r\n            placeholder={placeholder}\r\n            value={value}\r\n            name={name}\r\n            onChange={onChange}\r\n            required\r\n        />\r\n    );\r\n}\r\n\r\nexport default AuthInput;","import React from 'react';\r\nimport Form from './Form';\r\nimport AuthInput from './AuthInput';\r\nimport SubmitButton from './SubmitButton';\r\n\r\nfunction Login({ onLoggin }) {\r\n    const [inputValue, setInputValue] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    function handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        setInputValue({\r\n            ...inputValue,\r\n            [name]: value,\r\n        });\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        const { email, password } = inputValue;\r\n        if (!email || !password) {\r\n            return;\r\n        }\r\n        onLoggin(email, password);\r\n    }\r\n    return (\r\n        <>\r\n            <Form\r\n                title=\"Вход\"\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <AuthInput\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={inputValue.email}\r\n                    name=\"email\"\r\n                    onChange={handleInputChange}\r\n                />\r\n                <AuthInput\r\n                    type=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={inputValue.password}\r\n                    name=\"password\"\r\n                    onChange={handleInputChange}\r\n                />\r\n                <SubmitButton\r\n                    button=\"Войти\"\r\n                    classname=\"auth\"\r\n                >\r\n                </SubmitButton>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Form from './Form';\r\nimport AuthInput from './AuthInput';\r\nimport SubmitButton from './SubmitButton.js';\r\n\r\nfunction Register({ onRegister }) {\r\n\r\n    const [inputValue, setInputValue] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    function handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        setInputValue({\r\n            ...inputValue,\r\n            [name]: value,\r\n        });\r\n    }\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { email, password } = inputValue;\r\n        onRegister(email, password);\r\n    }\r\n    return (\r\n        <>\r\n            <Form\r\n                title=\"Регистрация\"\r\n                onSubmit={handleSubmit}\r\n                text={\"Уже зарегистрированы?\"}\r\n                link={<Link className=\"auth__link\" to=\"/sign-in\">Войти</Link>}\r\n            >\r\n                <AuthInput\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={inputValue.email}\r\n                    name=\"email\"\r\n                    onChange={handleInputChange}\r\n                />\r\n                <AuthInput\r\n                    type=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={inputValue.password}\r\n                    name=\"password\"\r\n                    onChange={handleInputChange}\r\n                />\r\n                <SubmitButton\r\n                    button=\"Зарегистрироваться\"\r\n                    classname=\"auth\"\r\n                >\r\n                </SubmitButton>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ loggedIn, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => loggedIn ? <Route {...props} /> : <Redirect to=\"/sign-in\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\r\nimport successIcon from '../images/success.svg';\r\nimport failIcon from '../images/fail.svg';\r\nimport Popup from './Popup';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, isSuccess, message }) {\r\n    return (\r\n        <Popup\r\n            name=\"confirm\"\r\n            classname=\"popup__container\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n        >\r\n            <img\r\n                className=\"popup__image\"\r\n                src={isSuccess ? successIcon : failIcon}\r\n                alt=\"Изображение\"\r\n            />\r\n            <p className=\"popup__message\">{message}</p>\r\n        </Popup>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","import React, { useEffect, useState } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup';\r\nimport { api } from '../utils/api';\r\nimport * as auth from '../utils/auth';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\r\n  const [isMessagePopupOpen, setMessagePopupOpen] = useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [isSuccessful, setIsSuccessful] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserData(), api.getInitialCards()])\r\n      .then(([info, card]) => {\r\n        setCurrentUser(info);\r\n        setCards(card);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [])\r\n\r\n  //лайк карточки\r\n  function handleCardLike(card) {\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    api.changeLikeStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n  }\r\n  //удаление карточки\r\n  function handleCardDelete(card) {\r\n    setIsLoading(true)\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n\r\n  function handleDeleteClick(card) {\r\n    setSelectedCard(card)\r\n    setDeletePopupOpen(true);\r\n  }\r\n\r\n  // открытие попапа картинки\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n\r\n  // открытие попапа изменения аватара\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  // открытие попапа изменения данных пользователя\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  // открытие попапа добавления картинки\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n\r\n  // закрытие попапов\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setDeletePopupOpen(false);\r\n    setMessagePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  //обновление данных пользователя\r\n  function handleUpdateUser(data) {\r\n    setIsLoading(true)\r\n    api.setUserData(data)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  // обновление аватара\r\n  function handleUpdateAvatar(data) {\r\n    setIsLoading(true)\r\n    api.setUserAvatarData(data)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) =>\r\n        console.log(`Ошибка: ${err}`))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  // добавление новой карточки через форму\r\n  function handleAddPlaceSubmit(card) {\r\n    setIsLoading(true)\r\n    api.postNewCard(card)\r\n      .then((results) => {\r\n        setCards([results, ...cards]);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) =>\r\n        console.log(`Ошибка: ${err}`))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  //регистрация\r\n  function handleRegister(email, password) {\r\n    auth.register(email, password)\r\n      .then((data) => {\r\n        if (data) {\r\n          history.push('/sign-in');\r\n          setMessagePopupOpen(true);\r\n          setIsSuccessful(true);\r\n          setMessage('Вы успешно зарегистрировались!');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\r\n        setMessagePopupOpen(true);\r\n        setIsSuccessful(false);\r\n        if (err === 400) {\r\n          return console.log('Некорректно заполнено одно из полей');\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  //авторизация\r\n  function handleLogin(email, password) {\r\n\r\n    auth.authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setEmail(email)\r\n          setLoggedIn(true);\r\n          localStorage.setItem('token', data.token)\r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\r\n        setMessagePopupOpen(true);\r\n        setIsSuccessful(false);\r\n        if (err === 400) {\r\n          return console.log('Не передано одно из полей');\r\n        }\r\n        if (err === 401) {\r\n          return console.log('Пользователь с email не найден');\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  function tokenCheck() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      auth.checkToken(token)\r\n        .then((data) => {\r\n          setEmail(data.data.email)\r\n          setLoggedIn(true)\r\n          history.push('/')\r\n        })\r\n        .catch((err) => {\r\n          if (err === 401) {\r\n            return console.log('Токен не передан или передан не в том формате');\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  // Выход из системы\r\n  function handleSignOut() {\r\n    localStorage.removeItem('token');\r\n    setLoggedIn(false);\r\n    history.push('/sign-in')\r\n  }\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n\r\n        <div className=\"container\">\r\n\r\n          <Header\r\n            email={email}\r\n            onClick={handleSignOut}\r\n            loggedIn={loggedIn}\r\n          />\r\n\r\n          <Switch>\r\n\r\n            <ProtectedRoute exact path='/' loggedIn={loggedIn}>\r\n              <Main\r\n                cards={cards}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleDeleteClick}\r\n              />\r\n              <Footer />\r\n            </ProtectedRoute>\r\n            <Route path=\"/sign-up\">\r\n              <Register\r\n                onRegister={handleRegister}\r\n              />\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <Login\r\n                onLoggin={handleLogin}\r\n              />\r\n            </Route>\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          onClick={isLoading}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          onClick={isLoading}\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          onClick={isLoading}\r\n        />\r\n\r\n        <ConfirmPopup\r\n          isOpen={isDeletePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onDelete={handleCardDelete}\r\n          card={selectedCard}\r\n          onClick={isLoading}\r\n        />\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <InfoTooltip\r\n          isOpen={isMessagePopupOpen}\r\n          isSuccess={isSuccessful}\r\n          message={message}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { HashRouter } from 'react-router-dom';\nimport App from '../src/components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}